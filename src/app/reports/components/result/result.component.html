<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" name="reportSpinner" size = "medium" color = "#fff" type = "ball-rotate" [fullScreen] = "false"><p style="color: white" > Generando Reporte... </p></ngx-spinner>
<p-confirmDialog #cdExport [style]="{width: '30rem'}" [closeOnEscape]="true" [breakpoints]="{'960px': '50vw', '640px': '75vw'}" class="gl-confirm-dialog " key="showSelectExcelConfirmation">
  <ng-template pTemplate="header">
      <h4>Elija un formato para exportar</h4>
      <div class="p-dialog-header-icons confirm-dialog-close-button">
        <button type="button" class="p-dialog-header-icon p-dialog-header-close p-link" (click)="cdExport.close($event)">
          <span class="pi pi-times"></span>
        </button>
      </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <div class="col-4">
      <button type="button" class="btn-gl-neutral btn-neutral-hover btn-sm w-100" (click)="configReporteUnido(); cdExport.accept()">Unido</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn-gl-neutral btn-neutral-hover btn-sm w-100" (click)="configReporteSeparado(); cdExport.accept()">Separado</button>
    </div>
  </ng-template>
</p-confirmDialog>
<div *ngIf="(reportService.modalActive)">
  <app-modal></app-modal>
</div>

<p-dialog header="Detalle del Exceso" [(visible)]="modalDetalleRepExcesosEnZona"  [style]="{width: '50vw'}" >
  <ng-container >
    <table  class="table table-striped table-border row-border hover" [style]="{'font-size': '11px'}">
      <thead>
        <tr>
            <th>Nº</th>
            <th>Fecha</th>
            <th>Velocidad</th>
            <th>Coordenada</th>
            <th>V.Límite</th>
            <th>V.Tolerable</th>
            <th>V.Grave</th>
            <th>V.Muy Grave</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of detalleExcesosEnZona.detalle;  let i = index;">
            <td>{{i + 1}}</td>
            <td>{{row[0]}}</td>
            <td>{{row[3]}}</td>
            <td>
              <a href="http://maps.google.com/maps?q={{row[1]}},{{row[2]}}&amp;t=m" target="_blank">{{row[1]}},{{row[2]}}</a>
            </td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta == 'false'">{{detalleExcesosEnZona.v0}}</td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta == 'false'">{{detalleExcesosEnZona.v1}}</td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta == 'false'">{{detalleExcesosEnZona.v2}}</td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta == 'false'">{{detalleExcesosEnZona.v3}}</td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta != 'false'">{{detalleExcesosEnZona.v0_camioneta}}</td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta != 'false'">{{detalleExcesosEnZona.v1_camioneta}}</td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta != 'false'">{{detalleExcesosEnZona.v2_camioneta}}</td>
            <td *ngIf="detalleExcesosEnZona.isCamioneta != 'false'">{{detalleExcesosEnZona.v3_camioneta}}</td>
        </tr>
      </tbody>
    </table>
  </ng-container>
  <ng-template pTemplate="footer">
    <p-button icon="pi pi-check" (click)="modalDetalleRepExcesosEnZona=false" label="Aceptar" styleClass="p-button-text"></p-button>
  </ng-template>
</p-dialog>


<div style="display: flex; flex-direction: column; padding: 0; height: 100%; max-height: 100%; margin: 0; font-size: 0.8rem;">
  <div *ngIf="dt_completed == 0" class="pristine-report">
    <img src="./assets/images/fondo-svg-reporte.svg" alt="fondo-reporte-logo">
  </div>
  <div [ngClass]="table_hide" class="container grand-container">
    <!-- <div *ngIf="report_data.num_rep >= 0 && report_data.num_rep <= 22 " class="table-title p-card" style="margin-bottom: 0.25rem;">{{report_data.rep_title}}</div> -->
    <div class="table-title p-card" style="margin-bottom: 0.25rem;">{{report_data.rep_title}}</div>

    <div class="table-subtitle p-card" style="margin-bottom: 0.25rem;">{{ report_data.rep_subtitle }}</div>
  </div>
  <ng-container>

    <!-- 0. REPORTE DE PARADAS Y MOVIMIENTOS -->

    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R001'">
      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 0.8rem;">
          <!-- <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;"> -->

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <!-- <div>{{v_table[0][1]}}</div> -->
                <div>
                  <div class="gl-row-underline vehicle-dropdown border-0">
                    <p-dropdown
                          [filter]="true"
                          [options]="reportTableVehicleDropdownOptions"
                          optionLabel="name"
                          [(ngModel)]="reportTableVehicleSelected"
                          [appendTo]="'body'"
                          (onChange)="renderDataTable()">
                          <ng-template let-vehicle pTemplate="item">
                              <div class="country-item">
                                  <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                              </div>
                          </ng-template>
                    </p-dropdown>
                  </div>
                </div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                    <th>Ítem</th>
                    <th>Estado</th>
                    <th *ngIf="!chkDateHour">Inicio</th>
                    <th *ngIf="chkDateHour">Fecha de Inicio</th>
                    <th *ngIf="chkDateHour">Hora de Inicio</th>
                    <th *ngIf="!chkDateHour">Fin</th>
                    <th *ngIf="chkDateHour">Fecha de Fin</th>
                    <th *ngIf="chkDateHour">Hora de Fin</th>
                    <th>Duración</th>
                    <th *ngIf="reportTableDropdownData[2].Paradas">Ubicación</th> <!-- Posición detenida -->
                    <th *ngIf="reportTableDropdownData[2].Movimientos">Distancia Recorrida</th><!-- Recorrido -->
                    <th *ngIf="reportTableDropdownData[2].Movimientos">Velocidad Máxima GPS</th>
                    <th *ngIf="reportTableDropdownData[2].Movimientos">Velocidad Máxima CAN</th>
                    <th *ngIf="reportTableDropdownData[2].Paradas">Punto cercano</th>
                    <th *ngIf="reportTableDropdownData[2].Movimientos">Velocidad Promedio</th>
                    <th *ngIf="reportTableDropdownData[2].Movimientos">Vel. prom. CAN</th>
                    <th *ngIf="reportTableDropdownData[2].Paradas">Referencia</th>
                    <!-- <th *ngIf="v_table[2].Paradas">Posición detenida</th>
                    <th *ngIf="v_table[2].Movimientos">Recorrido</th>
                    <th *ngIf="v_table[2].Movimientos">Velocidad Máxima</th>
                    <th *ngIf="v_table[2].Movimientos">Vel. máx. CAN</th>
                    <th *ngIf="v_table[2].Paradas">Punto cercano</th>
                    <th *ngIf="v_table[2].Movimientos">Velocidad Promedio</th>
                    <th *ngIf="v_table[2].Movimientos">Vel. prom. CAN</th>
                    <th *ngIf="v_table[2].Paradas">Referencia</th> -->
                  </tr>
                </thead>

                <!-- PARADAS Y MOVIMIENTOS -->
                <tbody *ngIf="reportTableDropdownData[2].Paradas && reportTableDropdownData[2].Movimientos">
                <!-- <tbody *ngIf="v_table[2].Paradas && v_table[2].Movimientos"> -->
                  <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <!-- <tr *ngFor="let row of v_table[1];  let i = index;"> -->
                    <td>{{i+1}}</td>
                    <td>{{row.estado}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td *ngIf="!chkDateHour">{{row.fechasig}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[1]}}</td>
                    <td>{{row.duracion}}</td>
                    <td *ngIf="row.esInt == 0">
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td><td *ngIf="row.esInt == 1">---</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.recorrido}}</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.maxima_velocidad}}</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.vel_max_can}}</td>

                    <td *ngIf="row.esInt == 0">{{row.pCercano}}</td><td *ngIf="row.esInt == 1">---</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.vel_promedio}}</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.vel_prom_can}}</td>

                    <td *ngIf="row.esInt == 0">{{row.referencia}}</td><td *ngIf="row.esInt == 1">---</td>
                  </tr>
                </tbody>

                <!-- SOLO MOVIMIENTOS -->
                <tbody *ngIf="!reportTableDropdownData[2].Paradas && reportTableDropdownData[2].Movimientos">
                <!-- <tbody *ngIf="!v_table[2].Paradas && v_table[2].Movimientos"> -->
                  <tr *ngFor="let row of filterMovimientos(reportTableDropdownData[1]);  let i = index;">
                  <!-- <tr *ngFor="let row of filterMovimientos(v_table[1]);  let i = index;"> -->
                    <td>{{i+1}}</td>
                    <td>{{row.estado}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td *ngIf="!chkDateHour">{{row.fechasig}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[1]}}</td>
                    <td>{{row.duracion}}</td>
                    <td>{{row.recorrido}}</td>
                    <td>{{row.maxima_velocidad}}</td>
                    <td>{{row.vel_max_can}}</td>

                    <td>{{row.vel_promedio}}</td>
                    <td>{{row.vel_prom_can}}</td>

                  </tr>
                </tbody>

                <!-- SOLO PARADAS -->
                <tbody *ngIf="reportTableDropdownData[2].Paradas && !reportTableDropdownData[2].Movimientos">
                <!-- <tbody *ngIf="v_table[2].Paradas && !v_table[2].Movimientos"> -->
                  <tr *ngFor="let row of filterParadas(reportTableDropdownData[1]);  let i = index;">
                  <!-- <tr *ngFor="let row of filterParadas(v_table[1]);  let i = index;"> -->
                    <td>{{i+1}}</td>
                    <td>{{row.estado}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td *ngIf="!chkDateHour">{{row.fechasig}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[1]}}</td>
                    <td>{{row.duracion}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <td>{{row.pCercano}}</td>
                    <td>{{row.referencia}}</td>
                  </tr>
                </tbody>

              </table>
            </ng-container>

            <div *ngIf="reportTableDropdownData[1].length == 0" class="p-card text-left" style="padding: 1rem;">
            <!-- <div *ngIf="v_table[1].length == 0" class="p-card text-left" style="padding: 1rem;"> -->
              <p>Ningún dato encontrado en su consulta.</p>
            </div>

            <div *ngIf="reportTableDropdownData[1].length != 0" class="p-card text-left" style="padding: 1rem;">
            <!-- <div *ngIf="v_table[1].length != 0" class="p-card text-left" style="padding: 1rem;"> -->
              <h6>RESUMEN DE TOTALES</h6>
              <p>Longitud de ruta       : <span>{{reportTableDropdownData[3][0]}}</span></p>
              <p>Duración de movimiento : <span>{{reportTableDropdownData[3][1]}}</span></p>
              <p>Duración de detenido   : <span>{{reportTableDropdownData[3][2]}}</span></p>
              <p>Velocidad más alta     : <span>{{reportTableDropdownData[3][3]}}</span></p>
              <p>Velocidad promedio     : <span>{{reportTableDropdownData[3][4]}}</span></p>
              <!-- <p>Longitud de ruta       : <span>{{v_table[3][0]}}</span></p>
              <p>Duración de movimiento : <span>{{v_table[3][1]}}</span></p>
              <p>Duración de detenido   : <span>{{v_table[3][2]}}</span></p>
              <p>Velocidad más alta     : <span>{{v_table[3][3]}}</span></p>
              <p>Velocidad promedio     : <span>{{v_table[3][4]}}</span></p> -->

              <!-- <p ng-if="res.optionUser() == 445">Horas Trabajadas en el Periodo : <span>{{v_table[3][5]}}</span></p>
              <p ng-if="res.optionUser() == 445">Total de Horas Trabajadas : <span>{{v_table[3][6]}}</span></p>

              <p ng-if="res.optionUser() == 394">Total de combustible consumido: <span>{{v_table[3][7]}}</span></p>
              <p ng-if="res.optionUser() == 394">Total de distancia recorrida(CAN): <span>{{v_table[3][8]}}</span></p>
              <p ng-if="res.optionUser() == 394">Rendimiento por galón: <span>{{v_table[3][9]}}</span></p> -->

            </div>

          </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

          <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <div>{{v_table[0][1]}}</div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                    <th>Ítem</th>
                    <th>Estado</th>
                    <th *ngIf="!chkDateHour">Inicio</th>
                    <th *ngIf="chkDateHour">Fecha de Inicio</th>
                    <th *ngIf="chkDateHour">Hora de Inicio</th>
                    <th *ngIf="!chkDateHour">Fin</th>
                    <th *ngIf="chkDateHour">Fecha de Fin</th>
                    <th *ngIf="chkDateHour">Hora de Fin</th>
                    <th>Duración</th>


                    <th *ngIf="v_table[2].Paradas">Ubicación</th> <!-- Posición detenida -->
                    <th *ngIf="v_table[2].Movimientos">Distancia Recorrida</th><!-- Recorrido -->
                    <th *ngIf="v_table[2].Movimientos">Velocidad Máxima GPS</th>
                    <th *ngIf="v_table[2].Movimientos">Velocidad Máxima CAN</th>
                    <th *ngIf="v_table[2].Paradas">Punto cercano</th>
                    <th *ngIf="v_table[2].Movimientos">Velocidad Promedio</th>
                    <th *ngIf="v_table[2].Movimientos">Vel. prom. CAN</th>
                    <th *ngIf="v_table[2].Paradas">Referencia</th>
                  </tr>
                </thead>

                <!-- PARADAS Y MOVIMIENTOS -->
                <tbody *ngIf="v_table[2].Paradas && v_table[2].Movimientos">
                  <tr *ngFor="let row of v_table[1];  let i = index;">
                    <td>{{i+1}}</td>
                    <td>{{row.estado}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td *ngIf="!chkDateHour">{{row.fechasig}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[1]}}</td>
                    <td>{{row.duracion}}</td>
                    <td *ngIf="row.esInt == 0">
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td><td *ngIf="row.esInt == 1">---</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.recorrido}}</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.maxima_velocidad}}</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.vel_max_can}}</td>

                    <td *ngIf="row.esInt == 0">{{row.pCercano}}</td><td *ngIf="row.esInt == 1">---</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.vel_promedio}}</td>
                    <td *ngIf="row.esInt == 0">---</td><td *ngIf="row.esInt == 1">{{row.vel_prom_can}}</td>

                    <td *ngIf="row.esInt == 0">{{row.referencia}}</td><td *ngIf="row.esInt == 1">---</td>
                  </tr>
                </tbody>

                <!-- SOLO MOVIMIENTOS -->
                <tbody *ngIf="!v_table[2].Paradas && v_table[2].Movimientos">
                  <tr *ngFor="let row of filterMovimientos(v_table[1]);  let i = index;">
                    <td>{{i+1}}</td>
                    <td>{{row.estado}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td *ngIf="!chkDateHour">{{row.fechasig}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[1]}}</td>
                    <td>{{row.duracion}}</td>
                    <td>{{row.recorrido}}</td>
                    <td>{{row.maxima_velocidad}}</td>
                    <td>{{row.vel_max_can}}</td>

                    <td>{{row.vel_promedio}}</td>
                    <td>{{row.vel_prom_can}}</td>

                  </tr>
                </tbody>

                <!-- SOLO PARADAS -->
                <tbody *ngIf="v_table[2].Paradas && !v_table[2].Movimientos">
                  <tr *ngFor="let row of filterParadas(v_table[1]);  let i = index;">
                    <td>{{i+1}}</td>
                    <td>{{row.estado}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td *ngIf="!chkDateHour">{{row.fechasig}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fechasig.split(' ')[1]}}</td>
                    <td>{{row.duracion}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <td>{{row.pCercano}}</td>
                    <td>{{row.referencia}}</td>
                  </tr>
                </tbody>

              </table>
            </ng-container>

            <div *ngIf="v_table[1].length == 0" class="p-card text-left" style="padding: 1rem;">
              <p>Ningún dato encontrado en su consulta.</p>
            </div>

            <div *ngIf="v_table[1].length != 0" class="p-card text-left" style="padding: 1rem;">
              <h6>RESUMEN DE TOTALES</h6>
              <p>Longitud de ruta       : <span>{{v_table[3][0]}}</span></p>
              <p>Duración de movimiento : <span>{{v_table[3][1]}}</span></p>
              <p>Duración de detenido   : <span>{{v_table[3][2]}}</span></p>
              <p>Velocidad más alta     : <span>{{v_table[3][3]}}</span></p>
              <p>Velocidad promedio     : <span>{{v_table[3][4]}}</span></p>

              <!-- <p ng-if="res.optionUser() == 445">Horas Trabajadas en el Periodo : <span>{{v_table[3][5]}}</span></p>
              <p ng-if="res.optionUser() == 445">Total de Horas Trabajadas : <span>{{v_table[3][6]}}</span></p>

              <p ng-if="res.optionUser() == 394">Total de combustible consumido: <span>{{v_table[3][7]}}</span></p>
              <p ng-if="res.optionUser() == 394">Total de distancia recorrida(CAN): <span>{{v_table[3][8]}}</span></p>
              <p ng-if="res.optionUser() == 394">Rendimiento por galón: <span>{{v_table[3][9]}}</span></p> -->

            </div>

          </div>

      </ng-container>

    </div>

    <!-- 1. REPORTE DE EXCESO DE VELOCIDAD -->

    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R002'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                          <div class="country-item">
                              <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                          </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered && !chkDuracion">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th>Nombre</th>
                  <th *ngIf="!chkDateHour">Fecha y Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Máxima Velocidad</th>
                  <th>Ubicación</th>
                  <th>Punto Cercano</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td>{{row.nombre}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                  <td>{{row.maxima_velocidad}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                  <td>{{row.PC}}</td>
                </tr>
              </tbody>

            </table>
          </ng-container>

          <ng-container *ngIf="dtRendered && chkDuracion">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th *ngIf="!chkDateHour">Inicio</th>
                  <th *ngIf="chkDateHour">Fecha de Inicio</th>
                  <th *ngIf="chkDateHour">Hora de Inicio</th>
                  <th *ngIf="!chkDateHour">Fin</th>
                  <th *ngIf="chkDateHour">Fecha de Fin</th>
                  <th *ngIf="chkDateHour">Hora de Fin</th>
                  <th>Duración</th>
                  <th>Cant. de Tramas</th>
                  <th>Tramas</th>
                  <th>Vel. Min.</th>
                  <th>Vel. Máx.</th>
                  <th>Punto Cercano</th>
                  <th>Zona Cercana</th>
                  <th>Ubicación</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_inicial}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_inicial.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_inicial.split(' ')[1]}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_final}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[1]}}</td>
                  <td>{{row.duracion}}</td>
                  <td>{{row.cant_tramas}}</td>
                  <td>{{row.string_tramas}}</td>
                  <td>{{row.vel_min}}</td>
                  <td>{{row.vel_max}}</td>
                  <td>{{row.PC}}</td>
                  <td>{{row.ZC}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

          <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered && !chkDuracion">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th>Nombre</th>
                  <th *ngIf="!chkDateHour">Fecha y Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Máxima Velocidad</th>
                  <th>Ubicación</th>
                  <th>Punto Cercano</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td>{{row.nombre}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                  <td>{{row.maxima_velocidad}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                  <td>{{row.PC}}</td>
                </tr>
              </tbody>

            </table>
          </ng-container>

          <ng-container *ngIf="dtRendered && chkDuracion">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th *ngIf="!chkDateHour">Inicio</th>
                  <th *ngIf="chkDateHour">Fecha de Inicio</th>
                  <th *ngIf="chkDateHour">Hora de Inicio</th>
                  <th *ngIf="!chkDateHour">Fin</th>
                  <th *ngIf="chkDateHour">Fecha de Fin</th>
                  <th *ngIf="chkDateHour">Hora de Fin</th>
                  <th>Duración</th>
                  <th>Cant. de Tramas</th>
                  <th>Tramas</th>
                  <th>Vel. Min.</th>
                  <th>Vel. Máx.</th>
                  <th>Punto Cercano</th>
                  <th>Zona Cercana</th>
                  <th>Ubicación</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_inicial}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_inicial.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_inicial.split(' ')[1]}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_final}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[1]}}</td>
                  <td>{{row.duracion}}</td>
                  <td>{{row.cant_tramas}}</td>
                  <td>{{row.string_tramas}}</td>
                  <td>{{row.vel_min}}</td>
                  <td>{{row.vel_max}}</td>
                  <td>{{row.PC}}</td>
                  <td>{{row.ZC}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 2. REPORTE DE ENTRADA Y SALIDA -->

    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R003'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th>Fecha de Entrada</th>
                  <th *ngIf="chkDateHour">Hora de Entrada</th>
                  <th>Fecha de Salida</th>
                  <th *ngIf="chkDateHour">Hora de Salida</th>
                  <th>Duración</th>
                  <th>Nombre de Zona</th>
                  <th>Posición de Zona</th>
                  <th>Punto Cercano</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_out}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_out.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_out.split(' ')[1]}}</td>
                  <td>{{row.duracion}}</td>
                  <td>{{row.nombre_zona}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                  <td>{{row.PC}}</td>
                </tr>
              </tbody>
            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th>Fecha de Entrada</th>
                  <th *ngIf="chkDateHour">Hora de Entrada</th>
                  <th>Fecha de Salida</th>
                  <th *ngIf="chkDateHour">Hora de Salida</th>
                  <th>Duración</th>
                  <th>Nombre de Zona</th>
                  <th>Posición de Zona</th>
                  <th>Punto Cercano</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_out}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_out.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_out.split(' ')[1]}}</td>
                  <td>{{row.duracion}}</td>
                  <td>{{row.nombre_zona}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                  <td>{{row.PC}}</td>
                </tr>
              </tbody>
            </table>
          </ng-container>

        </div>

      </ng-container>


    </div>

    <!-- 3. REPORTE DE COMBUSTIBLE -->

    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R004'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 0.8rem;">
          <!-- <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;"> -->

            <!-- <div class="subtable-title mb-2">
              <div>VEHÍCULO: {{v_table[0][1]}}</div>
              <div>PERIODO: {{period}}</div>
            </div> -->

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <!-- <div>{{v_table[0][1]}}</div> -->
                <div>
                  <div class="gl-row-underline vehicle-dropdown border-0">
                    <p-dropdown
                          [filter]="true"
                          [options]="reportTableVehicleDropdownOptions"
                          optionLabel="name"
                          [(ngModel)]="reportTableVehicleSelected"
                          [appendTo]="'body'"
                          (onChange)="renderDataTable()">
                          <ng-template let-vehicle pTemplate="item">
                              <div class="country-item">
                                  <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                              </div>
                          </ng-template>
                    </p-dropdown>
                  </div>
                </div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                    <th>Ítem</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Vel. CAN (km/h)</th>
                    <th>Nivel de Combustible (%)</th>
                    <th>Consumo de Combustible (litros)</th>
                    <th>Consumo HRFC (litros)</th>
                    <th>Combustible Restante (galones)</th>
                    <th>Contacto de Motor</th>
                    <th *ngIf="!chkOdomV">Odómetro</th>
                    <th *ngIf="chkOdomV">Odómetro Virtual</th>
                    <th>Ubicación</th>
                    <th>Mensaje de Alerta</th>
                    <th>Combustible Alerta (galones)</th>
                    <th>can_rpm</th>
                    <th>Altitud</th>
                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <!-- <tr *ngFor="let row of v_table[1];  let i = index;"> -->
                    <td>{{i+1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.can_speed}}</td>
                    <td *ngIf="isNumber(row.fuel_level)">{{row.fuel_level.toFixed(2)}}</td>
                    <td *ngIf="!isNumber(row.fuel_level)">{{row.fuel_level}}</td>
                    <td>{{row.fuel_used}}</td>
                    <td>{{row.can_HRFC}}</td>
                    <td>{{row.combusrestante}}</td>
                    <td *ngIf="row.di4 == 1">Abierto</td>
                    <td *ngIf="row.di4 != 1 && row.di4 != 0">-</td>
                    <td *ngIf="row.di4 == 0">Cerrado</td>
                    <td *ngIf="isNumber(row.can_dist)">{{row.can_dist.toFixed(2)}}</td>
                    <td *ngIf="!isNumber(row.can_dist)">{{row.can_dist}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <td>{{row.alerta}}</td>
                    <td>{{row.combustiblealerta}}</td>
                    <td>{{row.can_rpm}}</td>
                    <td>{{row.altitude}}</td>
                  </tr>
                </tbody>
              </table>
            </ng-container>

            <div *ngIf="reportTableDropdownData[1].length == 0" class="p-card text-left" style="padding: 1rem;">
            <!-- <div *ngIf="v_table[1].length == 0" class="p-card text-left" style="padding: 1rem;"> -->
              <p>Ningún dato encontrado en su consulta.</p>
            </div>

            <div *ngIf="reportTableDropdownData[1].length != 0" class="p-card text-left" style="padding: 1rem;">
            <!-- <div *ngIf="v_table[1].length != 0" class="p-card text-left" style="padding: 1rem;"> -->
              <h6>RESUMEN DE TOTALES</h6>
              <p>Total de distancia recorrida           : <span>{{reportTableDropdownData[2][0]}}</span></p>
              <p>Total de combustible consumido         : <span>{{reportTableDropdownData[2][1]}}</span></p>
              <p>Total de combustible HRFC consumido    : <span>{{reportTableDropdownData[2][2]}}</span></p>
              <p>Rendimiento por galón                  : <span>{{reportTableDropdownData[2][3]}}</span></p>
              <!-- <p>Total de distancia recorrida           : <span>{{v_table[2][0]}}</span></p>
              <p>Total de combustible consumido         : <span>{{v_table[2][1]}}</span></p>
              <p>Total de combustible HRFC consumido    : <span>{{v_table[2][2]}}</span></p>
              <p>Rendimiento por galón                  : <span>{{v_table[2][3]}}</span></p> -->
            </div>

          </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

          <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <div>{{v_table[0][1]}}</div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                    <th>Ítem</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Vel. CAN (km/h)</th>
                    <th>Nivel de Combustible (%)</th>
                    <th>Consumo de Combustible (litros)</th>
                    <th>Consumo HRFC (litros)</th>
                    <th>Combustible Restante (galones)</th>
                    <th>Contacto de Motor</th>
                    <th *ngIf="!chkOdomV">Odómetro</th>
                    <th *ngIf="chkOdomV">Odómetro Virtual</th>
                    <th>Ubicación</th>
                    <th>Mensaje de Alerta</th>
                    <th>Combustible Alerta (galones)</th>
                    <th>can_rpm</th>
                    <th>Altitud</th>
                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let row of v_table[1];  let i = index;">
                    <td>{{i+1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.can_speed}}</td>
                    <td *ngIf="isNumber(row.fuel_level)">{{row.fuel_level.toFixed(2)}}</td>
                    <td *ngIf="!isNumber(row.fuel_level)">{{row.fuel_level}}</td>
                    <td>{{row.fuel_used}}</td>
                    <td>{{row.can_HRFC}}</td>
                    <td>{{row.combusrestante}}</td>
                    <td *ngIf="row.di4 == 1">Abierto</td>
                    <td *ngIf="row.di4 != 1 && row.di4 != 0">-</td>
                    <td *ngIf="row.di4 == 0">Cerrado</td>
                    <td *ngIf="isNumber(row.can_dist)">{{row.can_dist.toFixed(2)}}</td>
                    <td *ngIf="!isNumber(row.can_dist)">{{row.can_dist}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <td>{{row.alerta}}</td>
                    <td>{{row.combustiblealerta}}</td>
                    <td>{{row.can_rpm}}</td>
                    <td>{{row.altitude}}</td>
                  </tr>
                </tbody>
              </table>
            </ng-container>

            <div *ngIf="v_table[1].length == 0" class="p-card text-left" style="padding: 1rem;">
              <p>Ningún dato encontrado en su consulta.</p>
            </div>

            <div *ngIf="v_table[1].length != 0" class="p-card text-left" style="padding: 1rem;">
              <h6>RESUMEN DE TOTALES</h6>
              <p>Total de distancia recorrida           : <span>{{v_table[2][0]}}</span></p>
              <p>Total de combustible consumido         : <span>{{v_table[2][1]}}</span></p>
              <p>Total de combustible HRFC consumido    : <span>{{v_table[2][2]}}</span></p>
              <p>Rendimiento por galón                  : <span>{{v_table[2][3]}}</span></p>
            </div>

          </div>

      </ng-container>

    </div>


    <!-- 4. REPORTE DE EXCESOS EN ZONA-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R005'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">
          <!-- <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;"> -->

            <!-- <div class="subtable-title mb-2">
              <div>VEHÍCULO: {{v_table[0][1]}}</div>
              <div>PERIODO: {{period}}</div>
            </div> -->

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <!-- <div>{{v_table[0][1]}}</div> -->
                <div>
                  <div class="gl-row-underline vehicle-dropdown border-0">
                    <p-dropdown
                          [filter]="true"
                          [options]="reportTableVehicleDropdownOptions"
                          optionLabel="name"
                          [(ngModel)]="reportTableVehicleSelected"
                          [appendTo]="'body'"
                          (onChange)="renderDataTable()">
                          <ng-template let-vehicle pTemplate="item">
                              <div class="country-item">
                                  <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                              </div>
                          </ng-template>
                    </p-dropdown>
                  </div>
                </div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                      <th>Item</th>
                      <th>Convoy</th>
                      <th>Código</th>
                      <th>Placa</th>

                      <th>Vel. Límite</th>
                      <th>Exceso vel maxima</th>

                      <th *ngIf="!chkDateHour">Fecha/Hora Inicio</th>
                      <th *ngIf="chkDateHour">Fecha de Inicio</th>
                      <th *ngIf="chkDateHour">Hora de Inicio</th>

                      <th *ngIf="!chkDateHour">Fecha/Hora Final</th>
                      <th *ngIf="chkDateHour">Fecha Final</th>
                      <th *ngIf="chkDateHour">Hora Final</th>

                      <th>Duración</th>
                      <th>Tramo</th>
                      <th>Referencia</th>
                      <th>Ubicación</th>
                      <th>Detalle</th>

                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <!-- <tr *ngFor="let row of v_table[1];  let i = index;"> -->

                      <td>{{i + 1}}</td>
                      <td>{{row.convoy}}</td>
                      <td>{{row.codigo}}</td>
                      <td>{{row.tracto}}</td>

                      <td>{{row.v0}}</td>
                      <td>{{row.velocidad}}</td>

                      <td *ngIf="!chkDateHour">{{row.fecha_inicio}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_inicio.split(' ')[0]}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_inicio.split(' ')[1]}}</td>

                      <td *ngIf="!chkDateHour">{{row.fecha_final}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[0]}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[1]}}</td>

                      <td>{{row.duracion2}}</td>
                      <td>{{row.nombre_zona}}</td>
                      <td>{{row.referencia}}</td>

                      <td>
                        <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                      </td>
                      <td>
                        <button class="btn btn-success" (click)="showModalExcesosEnZona(row);">Detalle</button>
                      </td>
                  </tr>
                </tbody>

              </table>
            </ng-container>

          </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

          <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <div>{{v_table[0][1]}}</div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                      <th>Item</th>
                      <th>Convoy</th>
                      <th>Código</th>
                      <th>Placa</th>

                      <th>Vel. Límite</th>
                      <th>Exceso vel maxima</th>

                      <th *ngIf="!chkDateHour">Fecha/Hora Inicio</th>
                      <th *ngIf="chkDateHour">Fecha de Inicio</th>
                      <th *ngIf="chkDateHour">Hora de Inicio</th>

                      <th *ngIf="!chkDateHour">Fecha/Hora Final</th>
                      <th *ngIf="chkDateHour">Fecha Final</th>
                      <th *ngIf="chkDateHour">Hora Final</th>

                      <th>Duración</th>
                      <th>Tramo</th>
                      <th>Referencia</th>
                      <th>Ubicación</th>
                      <th>Detalle</th>

                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let row of v_table[1];  let i = index;">

                      <td>{{i + 1}}</td>
                      <td>{{row.convoy}}</td>
                      <td>{{row.codigo}}</td>
                      <td>{{row.tracto}}</td>

                      <td>{{row.v0}}</td>
                      <td>{{row.velocidad}}</td>

                      <td *ngIf="!chkDateHour">{{row.fecha_inicio}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_inicio.split(' ')[0]}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_inicio.split(' ')[1]}}</td>

                      <td *ngIf="!chkDateHour">{{row.fecha_final}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[0]}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[1]}}</td>

                      <td>{{row.duracion2}}</td>
                      <td>{{row.nombre_zona}}</td>
                      <td>{{row.referencia}}</td>

                      <td>
                        <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                      </td>
                      <td>
                        <button class="btn btn-success" (click)="showModalExcesosEnZona(row);">Detalle</button>
                      </td>
                  </tr>
                </tbody>

              </table>
            </ng-container>

          </div>

      </ng-container>

    </div>


    <!-- 5. REPORTE GENERAL-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R006'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">
          <!-- <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;"> -->

            <!-- <div class="subtable-title mb-2">
              <div>VEHÍCULO: {{v_table[0][1]}}</div>
              <div>PERIODO: {{period}}</div>
            </div> -->

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <!-- <div>{{v_table[0][1]}}</div> -->
                <div>
                  <div class="gl-row-underline vehicle-dropdown border-0">
                    <p-dropdown
                          [filter]="true"
                          [options]="reportTableVehicleDropdownOptions"
                          optionLabel="name"
                          [(ngModel)]="reportTableVehicleSelected"
                          [appendTo]="'body'"
                          (onChange)="renderDataTable()">
                          <ng-template let-vehicle pTemplate="item">
                              <div class="country-item">
                                  <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                              </div>
                          </ng-template>
                    </p-dropdown>
                  </div>
                </div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                      <th>Nº</th>
                      <th *ngIf="!chkDateHour">Fecha/Hora</th>
                      <th *ngIf="chkDateHour">Fecha</th>
                      <th *ngIf="chkDateHour">Hora</th>

                      <th *ngIf="reportTableDropdownData[2].fServidor && !chkDateHour">Fecha/Hora Servidor</th>
                      <th *ngIf="reportTableDropdownData[2].fServidor && chkDateHour">Fecha Servidor</th>
                      <th *ngIf="reportTableDropdownData[2].fServidor && chkDateHour">Hora Servidor</th>

                      <th *ngIf="reportTableDropdownData[2].ubicacion" >Ubicación</th>
                      <th *ngIf="reportTableDropdownData[2].velGPS" >Velocidad GPS</th>
                      <th *ngIf="reportTableDropdownData[2].velECO" >Velocidad ECO</th>
                      <th *ngIf="reportTableDropdownData[2].velGPS_speed" >Velocidad GPS speed</th>

                      <th *ngIf="reportTableDropdownData[2].altitud" >Altitud</th>
                      <th *ngIf="reportTableDropdownData[2].angulo" >Angulo</th>
                      <th *ngIf="reportTableDropdownData[2].fatiga" >Fatiga</th>
                      <!-- <th *ngIf="v_table[2].fExBrusca" >Frenada Extrema Brusca</th> -->
                      <th *ngIf="reportTableDropdownData[2].fBrusca" >Frenada Brusca</th>
                      <th *ngIf="reportTableDropdownData[2].aBrusca" >Aceleración Brusca</th>
                      <th *ngIf="reportTableDropdownData[2].RPMAlta" >RPM Alta</th>

                      <th *ngIf="reportTableDropdownData[2].alcoholemia" >Alcoholemia</th>
                      <th *ngIf="reportTableDropdownData[2].parametros" >Parámetros</th>
                      <th *ngIf="reportTableDropdownData[2].cNivel" >Nivel de Combustible</th>
                      <th *ngIf="reportTableDropdownData[2].cRestante" >C.Restante</th>
                      <th *ngIf="reportTableDropdownData[2].cMotor" >C.Motor</th>
                      <th *ngIf="reportTableDropdownData[2].odometro" >Odómetro</th>
                      <th *ngIf="reportTableDropdownData[2].onOff" >On/Off</th>
                      <th *ngIf="reportTableDropdownData[2].RxM" >Rev.X Min.</th>
                      <th *ngIf="reportTableDropdownData[2].recFacial" >Reconocimiento Facial</th>
                      <th *ngIf="reportTableDropdownData[2].velCAN" >Velocidad CAN</th>
                      <th *ngIf="reportTableDropdownData[2].pCercano" >Punto Cercano</th>
                      <th *ngIf="reportTableDropdownData[2].referencia" >Referencia</th>

                      <th *ngIf="reportTableDropdownData[2].DUOT2state" >DUOT2 state</th>

                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <!-- <tr *ngFor="let row of v_table[1];  let i = index;"> -->

                      <td>{{i + 1}}</td>
                      <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                      <td *ngIf="reportTableDropdownData[2].fServidor && !chkDateHour">{{row.fServidor}}</td>
                      <td *ngIf="reportTableDropdownData[2].fServidor && chkDateHour" >{{row.fServidor.split(' ')[0]}}</td>
                      <td *ngIf="reportTableDropdownData[2].fServidor && chkDateHour" >{{row.fServidor.split(' ')[1]}}</td>
                      <!-- <td *ngIf="v_table[2].fServidor && !chkDateHour">{{row.fServidor}}</td>
                      <td *ngIf="v_table[2].fServidor && chkDateHour" >{{row.fServidor.split(' ')[0]}}</td>
                      <td *ngIf="v_table[2].fServidor && chkDateHour" >{{row.fServidor.split(' ')[0]}}</td> -->


                      <td *ngIf="reportTableDropdownData[2].ubicacion">
                      <!-- <td *ngIf="v_table[2].ubicacion"> -->
                        <a href="http://maps.google.com/maps?q={{row.lat.toFixed(6)}},{{row.lng.toFixed(6)}}&amp;t=m" target="_blank">{{row.lat.toFixed(6)}},{{row.lng.toFixed(6)}}</a>
                      </td>
                      <td *ngIf="reportTableDropdownData[2].velGPS" [ngStyle]="{'background-color': row.velGPS > reportTableDropdownData[2][8] ? 'rgb(28, 243, 9)' : {} }">{{row.velGPS}}</td>
                      <td *ngIf="reportTableDropdownData[2].velECO" [ngStyle]="{'background-color': row.velECO > reportTableDropdownData[2][8] ? 'rgb(28, 243, 9)' : {} }">{{row.velECO}}</td>
                      <td *ngIf="reportTableDropdownData[2].velGPS_speed" >{{row.velGPS_speed}}</td>

                      <td *ngIf="reportTableDropdownData[2].altitud" >{{row.altitud}}</td>
                      <td *ngIf="reportTableDropdownData[2].angulo" >{{row.angulo}}</td>
                      <td *ngIf="reportTableDropdownData[2].fatiga" [ngStyle]="{'background-color': row.fatiga == 'si' ? 'rgb(28, 243, 9)' : {} }">{{row.fatiga}}</td>
                      <td *ngIf="reportTableDropdownData[2].fBrusca" >{{row.fBrusca}}</td>
                      <td *ngIf="reportTableDropdownData[2].aBrusca" >{{row.aBrusca}}</td>
                      <td *ngIf="reportTableDropdownData[2].RPMAlta" >{{row.RPMAlta}}</td>

                      <td *ngIf="reportTableDropdownData[2].alcoholemia && row.alcohol_state == 4" [ngStyle]="{'background-color': 'rgb(28, 243, 9)'}">{{row.alcohol_nombre}}</td>
                      <td *ngIf="reportTableDropdownData[2].alcoholemia && row.alcohol_state == 5" [ngStyle]="{'background-color': 'rgb(255,  0, 0)'}">{{row.alcohol_nombre}}</td>
                      <td *ngIf="reportTableDropdownData[2].alcoholemia && row.alcohol_state != 4 && row.alcohol_state != 5" >{{row.alcohol_nombre}}</td>

                      <td *ngIf="reportTableDropdownData[2].parametros" >{{row.parametros}}</td>
                      <td *ngIf="reportTableDropdownData[2].cNivel" >{{row.cNivel}}</td>
                      <td *ngIf="reportTableDropdownData[2].cRestante" >{{row.cRestante}}</td>
                      <td *ngIf="reportTableDropdownData[2].cMotor" >{{row.cMotor}}</td>
                      <td *ngIf="reportTableDropdownData[2].odometro" >{{row.odometro}}</td>
                      <td *ngIf="reportTableDropdownData[2].onOff" >{{row.onOff}}</td>
                      <td *ngIf="reportTableDropdownData[2].RxM" >{{row.RxM}}</td>
                      <td *ngIf="reportTableDropdownData[2].recFacial" >{{row.recFacial}}</td>
                      <td *ngIf="reportTableDropdownData[2].velCAN" [ngStyle]="{'background-color': row.velCAN > reportTableDropdownData[3][8] ? 'rgb(28, 243, 9)' : {} }">{{row.velCAN}}</td>
                      <td *ngIf="reportTableDropdownData[2].pCercano" >{{row.pCercano}}</td>
                      <td *ngIf="reportTableDropdownData[2].referencia" >
                        <!-- {{row.referencia}} -->
                        <span *ngIf="row.referencia != 'desconocido ...'" [innerHTML]="row.referencia">
                        </span>
                        <button *ngIf="row.referencia == 'desconocido ...'" class="btn btn-success" (click)="showGeneralDireccion(row, reportTableDropdownData[1]);">Ver</button>
                      </td>



											<!-- <td ng-if="dato[2].referencia" >
												<span ng-if="dat.referencia != 'NN'"  ng-bind-html="dat.referencia" ></span>
												<md-button ng-if="dat.referencia == 'NN'" class="md-primary md-raised btn-sm" ng-click="res.showGeneralDireccion( dat, reportTableDropdownData[1])"  >
													Ver
												</md-button>
											</td> -->




                      <td *ngIf="reportTableDropdownData[2].DUOT2state" >{{row.DUOT2state}}</td>

                  </tr>
                </tbody>

              </table>

              <div *ngIf="reportTableDropdownData[1].length > 0" class="p-card text-left" style="padding: 1rem;">

                  <h6>RESUMEN DE TOTALES</h6>
                  <p>TOTAL de Excesos de Velocidad(GPS) : <span>{{reportTableDropdownData[3][0]}}</span></p>
                  <p>TOTAL de Excesos de Velocidad(ECO) : <span>{{reportTableDropdownData[3][1]}}</span></p>
                  <p>TOTAL de Excesos de Velocidad(CAN) : <span>{{reportTableDropdownData[3][2]}}</span></p>

                  <p *ngIf="reportTableDropdownData[2].fatiga" >TOTAL de Fatigas : <span>{{reportTableDropdownData[3][3]}}</span></p>
                  <!-- <p ng-if="dato[2].fExBrusca" >TOTAL de Frenada Extremadamente Brusca : <span>{{dato[3][4]}}</span></p> -->
                  <p *ngIf="reportTableDropdownData[2].fBrusca" >TOTAL de Frenada Brusca : <span>{{reportTableDropdownData[3][5]}}</span></p>
                  <p *ngIf="reportTableDropdownData[2].RPMAlta" >TOTAL RPM Alta : <span>{{reportTableDropdownData[3][6]}}</span></p>
                  <p *ngIf="reportTableDropdownData[2].alcoholemia" >TOTAL de alerta de alcohol en la sangre : <span>{{reportTableDropdownData[3][7]}}</span></p>

              </div>

                <ng-container *ngIf="reportTableDropdownData[1].length > 0">

                    <div class="row mt-3">
                      <div class="col">
                      </div>
                      <div class="col">
                      </div>
                      <div class="col">
                      </div>
                      <div class="col">
                        <div class="col-md-auto">
                          <button class="btn btn-success" (click)="verTodos(period, reportTableDropdownData[0][0], chkDateHour, reportTableDropdownData[0][1], params);">Ver Todos</button>
                          <!-- <button class="btn btn-success" (click)="showModal();">Ver modal</button> -->

                        </div>
                      </div>
                    </div>

                </ng-container>

            </ng-container>

            <div *ngIf="reportTableDropdownData[1].length == 0" class="p-card text-left" style="padding: 1rem;">
              <p>Ningún dato encontrado en su consulta.</p>
            </div>

          </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

          <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

            <div class="subtable-title mb-3">
              <div>
                <div>VEHÍCULO</div>
                <div>{{v_table[0][1]}}</div>
              </div>
              <div>
                <div>PERIODO</div>
                <div>{{period}}</div>
              </div>
            </div>

            <ng-container *ngIf="dtRendered">
              <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                <thead>
                  <tr>
                      <th>Nº</th>
                      <th *ngIf="!chkDateHour">Fecha/Hora</th>
                      <th *ngIf="chkDateHour">Fecha</th>
                      <th *ngIf="chkDateHour">Hora</th>

                      <th *ngIf="v_table[2].fServidor && !chkDateHour">Fecha/Hora Servidor</th>
                      <th *ngIf="v_table[2].fServidor && chkDateHour">Fecha Servidor</th>
                      <th *ngIf="v_table[2].fServidor && chkDateHour">Hora Servidor</th>

                      <th *ngIf="v_table[2].ubicacion" >Ubicación</th>
                      <th *ngIf="v_table[2].velGPS" >Velocidad GPS</th>
                      <th *ngIf="v_table[2].velECO" >Velocidad ECO</th>
                      <th *ngIf="v_table[2].velGPS_speed" >Velocidad GPS speed</th>

                      <th *ngIf="v_table[2].altitud" >Altitud</th>
                      <th *ngIf="v_table[2].angulo" >Angulo</th>
                      <th *ngIf="v_table[2].fatiga" >Fatiga</th>
                      <!-- <th *ngIf="v_table[2].fExBrusca" >Frenada Extrema Brusca</th> -->
                      <th *ngIf="v_table[2].fBrusca" >Frenada Brusca</th>
                      <th *ngIf="v_table[2].aBrusca" >Aceleración Brusca</th>
                      <th *ngIf="v_table[2].RPMAlta" >RPM Alta</th>

                      <th *ngIf="v_table[2].alcoholemia" >Alcoholemia</th>
                      <th *ngIf="v_table[2].parametros" >Parámetros</th>
                      <th *ngIf="v_table[2].cNivel" >Nivel de Combustible</th>
                      <th *ngIf="v_table[2].cRestante" >C.Restante</th>
                      <th *ngIf="v_table[2].cMotor" >C.Motor</th>
                      <th *ngIf="v_table[2].odometro" >Odómetro</th>
                      <th *ngIf="v_table[2].onOff" >On/Off</th>
                      <th *ngIf="v_table[2].RxM" >Rev.X Min.</th>
                      <th *ngIf="v_table[2].recFacial" >Reconocimiento Facial</th>
                      <th *ngIf="v_table[2].velCAN" >Velocidad CAN</th>
                      <th *ngIf="v_table[2].pCercano" >Punto Cercano</th>
                      <th *ngIf="v_table[2].referencia" >Referencia</th>

                      <th *ngIf="v_table[2].DUOT2state" >DUOT2 state</th>

                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let row of v_table[1];  let i = index;">

                      <td>{{i + 1}}</td>
                      <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                      <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                      <td *ngIf="v_table[2].fServidor && !chkDateHour">{{row.fServidor}}</td>
                      <td *ngIf="v_table[2].fServidor && chkDateHour" >{{row.fServidor.split(' ')[0]}}</td>
                      <td *ngIf="v_table[2].fServidor && chkDateHour" >{{row.fServidor.split(' ')[1]}}</td>

                      <td *ngIf="v_table[2].ubicacion">
                        <a href="http://maps.google.com/maps?q={{row.lat.toFixed(6)}},{{row.lng.toFixed(6)}}&amp;t=m" target="_blank">{{row.lat.toFixed(6)}},{{row.lng.toFixed(6)}}</a>
                      </td>
                      <td *ngIf="v_table[2].velGPS" [ngStyle]="{'background-color': row.velGPS > v_table[2][8] ? 'rgb(28, 243, 9)' : {} }">{{row.velGPS}}</td>
                      <td *ngIf="v_table[2].velECO" [ngStyle]="{'background-color': row.velECO > v_table[2][8] ? 'rgb(28, 243, 9)' : {} }">{{row.velECO}}</td>
                      <td *ngIf="v_table[2].velGPS_speed" >{{row.velGPS_speed}}</td>

                      <td *ngIf="v_table[2].altitud" >{{row.altitud}}</td>
                      <td *ngIf="v_table[2].angulo" >{{row.angulo}}</td>
                      <td *ngIf="v_table[2].fatiga" [ngStyle]="{'background-color': row.fatiga == 'si' ? 'rgb(28, 243, 9)' : {} }">{{row.fatiga}}</td>
                      <td *ngIf="v_table[2].fBrusca" >{{row.fBrusca}}</td>
                      <td *ngIf="v_table[2].aBrusca" >{{row.aBrusca}}</td>
                      <td *ngIf="v_table[2].RPMAlta" >{{row.RPMAlta}}</td>

                      <td *ngIf="v_table[2].alcoholemia && row.alcohol_state == 4" [ngStyle]="{'background-color': 'rgb(28, 243, 9)'}">{{row.alcohol_nombre}}</td>
                      <td *ngIf="v_table[2].alcoholemia && row.alcohol_state == 5" [ngStyle]="{'background-color': 'rgb(255,  0, 0)'}">{{row.alcohol_nombre}}</td>
                      <td *ngIf="v_table[2].alcoholemia && row.alcohol_state != 4 && row.alcohol_state != 5" >{{row.alcohol_nombre}}</td>

                      <td *ngIf="v_table[2].parametros" >{{row.parametros}}</td>
                      <td *ngIf="v_table[2].cNivel" >{{row.cNivel}}</td>
                      <td *ngIf="v_table[2].cRestante" >{{row.cRestante}}</td>
                      <td *ngIf="v_table[2].cMotor" >{{row.cMotor}}</td>
                      <td *ngIf="v_table[2].odometro" >{{row.odometro}}</td>
                      <td *ngIf="v_table[2].onOff" >{{row.onOff}}</td>
                      <td *ngIf="v_table[2].RxM" >{{row.RxM}}</td>
                      <td *ngIf="v_table[2].recFacial" >{{row.recFacial}}</td>
                      <td *ngIf="v_table[2].velCAN" [ngStyle]="{'background-color': row.velCAN > v_table[3][8] ? 'rgb(28, 243, 9)' : {} }">{{row.velCAN}}</td>
                      <td *ngIf="v_table[2].pCercano" >{{row.pCercano}}</td>
                      <!-- <td *ngIf="v_table[2].referencia" >{{row.referencia}}</td> -->

                      <td *ngIf="v_table[2].referencia" >
                        <!-- {{row.referencia}} -->
                        <span *ngIf="row.referencia != 'desconocido ...'" [innerHTML]="row.referencia"></span>
                        <button *ngIf="row.referencia == 'desconocido ...'" class="btn btn-success" (click)="showGeneralDireccion(row, v_table[1]);">Ver</button>


                      </td>


                      <td *ngIf="v_table[2].DUOT2state" >{{row.DUOT2state}}</td>

                  </tr>
                </tbody>

              </table>

              <div *ngIf="v_table[1].length > 0" class="p-card text-left" style="padding: 1rem;">

                  <h6>RESUMEN DE TOTALES</h6>
                  <p>TOTAL de Excesos de Velocidad(GPS) : <span>{{v_table[3][0]}}</span></p>
                  <p>TOTAL de Excesos de Velocidad(ECO) : <span>{{v_table[3][1]}}</span></p>
                  <p>TOTAL de Excesos de Velocidad(CAN) : <span>{{v_table[3][2]}}</span></p>

                  <p *ngIf="v_table[2].fatiga" >TOTAL de Fatigas : <span>{{v_table[3][3]}}</span></p>
                  <!-- <p ng-if="dato[2].fExBrusca" >TOTAL de Frenada Extremadamente Brusca : <span>{{dato[3][4]}}</span></p> -->
                  <p *ngIf="v_table[2].fBrusca" >TOTAL de Frenada Brusca : <span>{{v_table[3][5]}}</span></p>
                  <p *ngIf="v_table[2].RPMAlta" >TOTAL RPM Alta : <span>{{v_table[3][6]}}</span></p>
                  <p *ngIf="v_table[2].alcoholemia" >TOTAL de alerta de alcohol en la sangre : <span>{{v_table[3][7]}}</span></p>

              </div>

                <ng-container *ngIf="v_table[1].length > 0">

                    <div class="row mt-3">
                      <div class="col">
                      </div>
                      <div class="col">
                      </div>
                      <div class="col">
                      </div>
                      <div class="col">
                        <div class="col-md-auto">
                          <button class="btn btn-success" (click)="verTodos(period, v_table[0][0], chkDateHour, v_table[0][1], params);">Ver Todos</button>
                          <!-- <button class="btn btn-success" (click)="showModal();">Ver modal2</button> -->
                        </div>
                      </div>
                    </div>

                </ng-container>

            </ng-container>

            <div *ngIf="v_table[1].length == 0" class="p-card text-left" style="padding: 1rem;">
              <p>Ningún dato encontrado en su consulta.</p>
            </div>

          </div>

      </ng-container>

    </div>




    <!-- 6. REPORTE DE EVENTOS-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R007'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <!-- <th>Unidad</th> -->
                  <th>Código</th>
                  <th>Placa</th>

                  <th>Evento</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Velocidad GPS</th>
                  <th>Velocidad CAN</th>
                  <th>Tramo</th>
                  <th>Ubicación</th>
                  <th>Referencia</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <!-- <td>{{row.nombre_objeto}}</td> -->
                  <td>{{row.codigo}}</td>
                  <td>{{row.placa_con_guion}}</td>

                  <td>{{row.descripcion_evento}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_tracker}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[1]}}</td>

                  <td>{{row.velocidad}}</td>
                  <td>{{row.vel_can}}</td>
                  <td>{{row.nombre_zona}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                  <td>{{row.referencia}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <!-- <th>Unidad</th> -->
                  <th>Código</th>
                  <th>Placa</th>
                  
                  <th>Evento</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Velocidad GPS</th>
                  <th>Velocidad CAN</th>
                  <th>Tramo</th>
                  <th>Ubicación</th>
                  <th>Referencia</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <!-- <td>{{row.nombre_objeto}}</td> -->
                  <td>{{row.codigo}}</td>
                  <td>{{row.placa_con_guion}}</td>

                  <td>{{row.descripcion_evento}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_tracker}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[1]}}</td>

                  <td>{{row.velocidad}}</td>
                  <td>{{row.vel_can}}</td>
                  <td>{{row.nombre_zona}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                  <td>{{row.referencia}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 7. REPORTE DE POSICIÓN -->

    <div class="container p-card singletable-container" *ngIf="report_data.num_rep == 'R008'">
      <table *ngIf="dtRendered" [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
        <thead>
          <tr>
            <th>Index</th>
            <th>Código</th>
            <th>Placa</th>
            <th *ngIf="!chkDateHour">Fecha/Hora</th>
            <th *ngIf="chkDateHour">Fecha</th>
            <th *ngIf="chkDateHour">Hora</th>
            <th>Status</th>
            <th>Conductor</th>

            <th>Velocidad GPS</th>
            <th>Velocidad CAN</th>
            <th>Odómetro</th>
            <th>Ubicación</th>
            <th>Referencia</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of data;  let i = index;">
            <td>{{i+1}}</td>
            <td>{{row.codigo}}</td>
            <td>{{row.placa}}</td>
            <td *ngIf="!chkDateHour">{{row.fecha}}</td>
            <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
            <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
            <td>{{row['estado']}}</td>
            <td>{{row.conductor}}</td>
            <td>{{(row.velocidad != '-')? row.velocidad + ' km/h': '-'}}</td>
            <td>{{(row.velocidad_can != '-')? row.velocidad_can + ' km/h': '-'}}</td>
            <td>{{row.odometro}}</td>
            <td>
              <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}}, {{row.longitud.toFixed(6)}}</a>
            </td>
            <td>{{row.referencia}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 10. REPORTE DE FRENADA Y ACELERACION BRUSCA -->

    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R011'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 0.8rem;">

          <!-- <div class="subtable-title mb-2">
            <div>VEHÍCULO: {{v_table[0][1]}}</div>
            <div>PERIODO: {{period}}</div>
          </div> -->

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th *ngIf="!chkDateHour">Fecha / Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th>Tipo Unidad</th>

                  <th>ID Conductor</th>
                  <th>Conductor</th>
                  <th>Vel. GPS</th>
                  <th>Vel. CAN</th>

                  <th *ngIf="chkFrenada && chkAceleracion">Descripción</th>
                  <th>Tramo</th>
                  <th>Punto Cercano</th>
                  <th>Ubicación</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_final}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[1]}}</td>
                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td>{{row.tipo_unidad}}</td>

                  <td>{{row.idConductor}}</td>
                  <td>{{row.conductor}}</td>
                  <td>{{row.velGPS}}</td>
                  <td>{{row.vel_can}}</td>

                  <td *ngIf="chkFrenada && chkAceleracion">{{row.tipo_frenada}}</td>
                  <td>{{row.tramo}}</td>
                  <td>{{row.PC}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                </tr>
              </tbody>
            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th *ngIf="!chkDateHour">Fecha / Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th>Tipo Unidad</th>

                  <th>ID Conductor</th>
                  <th>Conductor</th>
                  <th>Vel. GPS</th>
                  <th>Vel. CAN</th>

                  <th *ngIf="chkFrenada && chkAceleracion">Descripción</th>
                  <th>Tramo</th>
                  <th>Punto Cercano</th>
                  <th>Ubicación</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">
                  <td>{{i+1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_final}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_final.split(' ')[1]}}</td>
                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td>{{row.tipo_unidad}}</td>

                  <td>{{row.idConductor}}</td>
                  <td>{{row.conductor}}</td>
                  <td>{{row.velGPS}}</td>
                  <td>{{row.vel_can}}</td>

                  <td *ngIf="chkFrenada && chkAceleracion">{{row.tipo_frenada}}</td>
                  <td>{{row.tramo}}</td>
                  <td>{{row.PC}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>
                </tr>
              </tbody>
            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 11. REPORTE DE DISTRACCIÓN Y POSIBLE FATIGA-->
    <!-- 21 -R022 REPORTE DE SOMNOLENCIA Y/O DISTRACCIÓN - PROLOINT -->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R012' || report_data.num_rep == 'R022'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>
                    <th *ngIf="chkFatigaSomnolencia && chkFatigaDistraccion">Descripción</th>
                    <th>Reconocimiento Facial (ai1x)</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.velGPS}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>
                    <td *ngIf="chkFatigaSomnolencia && chkFatigaDistraccion">{{row.descripcion}}</td>

                    <td *ngIf="(row.ai1x > 1000)">Rostro detectado ({{row.ai1x}})</td>
                    <td *ngIf="(row.ai1x < 1001)">Rostro ausente ({{row.ai1x}})</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>
                    <th *ngIf="chkFatigaSomnolencia && chkFatigaDistraccion">Descripción</th>
                    <th>Reconocimiento Facial (ai1x)</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.velGPS}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>
                    <td *ngIf="chkFatigaSomnolencia && chkFatigaDistraccion">{{row.descripcion}}</td>

                    <td *ngIf="(row.ai1x > 1000)">Rostro detectado ({{row.ai1x}})</td>
                    <td *ngIf="(row.ai1x < 1001)">Rostro ausente ({{row.ai1x}})</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>


    <!-- 12. REPORTE DE CALIFICACION DE MANEJO-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R013'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>

                    <th *ngIf="!chkDateHour">Fecha/Hora Fin</th>
                    <th *ngIf="chkDateHour">Fecha Fin</th>
                    <th *ngIf="chkDateHour">Hora Fin</th>

                    <th>Codigo</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>C01</th>
                    <th>C02</th>
                    <th>C03</th>
                    <th>C04</th>
                    <th>C05</th>
                    <th>C06</th>
                    <th>C07</th>
                    <th>C08</th>
                    <th>C09</th>
                    <th>C10</th>
                    <th>C11</th>
                    <!-- <th>C12</th> -->
                    <th>Calificación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                    <td *ngIf="!chkDateHour">{{row.fecha_fin}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha_fin.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha_fin.split(' ')[1]}}</td>

                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C01" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;">
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C02" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C03" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C04" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C05" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C06" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C07" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C08" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C09" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C10" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C11" (change)="puntuacion(reportTableVehicleSelected.index);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>{{row.puntuacion}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>


        <div class="p-card" style="padding: 1rem;">

          <h6>RESUMEN</h6>
          <!-- <p><span>C01 = cantidad de frenadas extremadamente bruscas.</span></p> -->
          <p><span>C01 = cantidad de frenadas bruscas.</span></p>
          <p><span>C02 = cantidad de aceleraciones bruscas.</span></p>
          <p><span>C03 = cantidad de RPM altas. (mayores a 2,000 para sprintes y buses mayores a 2,300).</span></p>
          <p><span>C04 = cantidad de posible fatiga.</span></p>
          <p><span>C05 = cantidad de fatiga extrema.</span></p>
          <p><span>C06 = cantidad de distracciones.</span></p>
          <p><span>C07 = cantidad de colisión frontal.</span></p>
          <p><span>C08 = cantidad de colisión con peatones.</span></p>
          <p><span>C09 = cantidad de desvio de carril a la izquierda.</span></p>
          <p><span>C10 = cantidad de desvio de carril a la derecha.</span></p>
          <p><span>C11 = cantidad de exceso de velocidad muy grave.</span></p>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let ii = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>

                    <th *ngIf="!chkDateHour">Fecha/Hora Fin</th>
                    <th *ngIf="chkDateHour">Fecha Fin</th>
                    <th *ngIf="chkDateHour">Hora Fin</th>

                    <th>Codigo</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>C01</th>
                    <th>C02</th>
                    <th>C03</th>
                    <th>C04</th>
                    <th>C05</th>
                    <th>C06</th>
                    <th>C07</th>
                    <th>C08</th>
                    <th>C09</th>
                    <th>C10</th>
                    <th>C11</th>
                    <!-- <th>C12</th> -->
                    <th>Calificación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                    <td *ngIf="!chkDateHour">{{row.fecha_fin}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha_fin.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha_fin.split(' ')[1]}}</td>

                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C01" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;">
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C02" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C03" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C04" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C05" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C06" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C07" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C08" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C09" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C10" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>
                      <input *ngIf="true" [(ngModel)]="row.C11" (change)="puntuacion(ii);" type="number" style="width: 50px; border: none; padding: 2px 0 2px 4px;" >
                    </td>

                    <td>{{row.puntuacion}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>


        <div class="p-card" style="padding: 1rem;">

          <h6>RESUMEN</h6>
          <!-- <p><span>C01 = cantidad de frenadas extremadamente bruscas.</span></p> -->
          <p><span>C01 = cantidad de frenadas bruscas.</span></p>
          <p><span>C02 = cantidad de aceleraciones bruscas.</span></p>
          <p><span>C03 = cantidad de RPM altas. (mayores a 2,000 para sprintes y buses mayores a 2,300).</span></p>
          <p><span>C04 = cantidad de posible fatiga.</span></p>
          <p><span>C05 = cantidad de fatiga extrema.</span></p>
          <p><span>C06 = cantidad de distracciones.</span></p>
          <p><span>C07 = cantidad de colisión frontal.</span></p>
          <p><span>C08 = cantidad de colisión con peatones.</span></p>
          <p><span>C09 = cantidad de desvio de carril a la izquierda.</span></p>
          <p><span>C10 = cantidad de desvio de carril a la derecha.</span></p>
          <p><span>C11 = cantidad de exceso de velocidad muy grave.</span></p>

        </div>

      </ng-container>

    </div>


    <!-- 13. REPORTE DE FATIGA EXTREMA-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R014'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Reconocimiento Facial (ai1x)</th>
                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.velGPS}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td *ngIf="(row.ai1x > 1000)">Rostro detectado ({{row.ai1x}})</td>
                    <td *ngIf="(row.ai1x < 1001)">Rostro ausente ({{row.ai1x}})</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Reconocimiento Facial (ai1x)</th>
                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.velGPS}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td *ngIf="(row.ai1x > 1000)">Rostro detectado ({{row.ai1x}})</td>
                    <td *ngIf="(row.ai1x < 1001)">Rostro ausente ({{row.ai1x}})</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 14. REPORTE DE ANTICOLISION FRONTAL-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R015'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 15. REPORTE DE COLISIÓN CON PEATONES-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R016'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 16. REPORTE DE DESVÍO DE CARRIL HACIA LA IZQUIERDA-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R017'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>


    <!-- 17.REPORTE DE DESVÍO DE CARRIL HACIA LA DERECHA-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R018'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>
                    <!-- <th>Sonido en Cabina</th> -->
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <!-- <td>{{row.sonidoEnCabina}}</td> -->

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 18. REPORTE DE BLOQUEO DE VISIÓN DEL MOBILEYE-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R019'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

    <!-- 19. REPORTE GERENCIAL (Cuenta cruzdelsur)-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R020'">
      <div class="p-card" style="padding: 1rem;" [hidden]="true">

        <div class="subtable-title mb-3">
          <!-- <div>
            <div>VEHÍCULO</div>
            <div>
              <div class="gl-row-underline vehicle-dropdown border-0">
                <p-dropdown
                      [filter]="true"
                      [options]="reportTableVehicleDropdownOptions"
                      optionLabel="name"
                      [(ngModel)]="reportTableVehicleSelected"
                      [appendTo]="'body'"
                      (onChange)="renderDataTable()">
                      <ng-template let-vehicle pTemplate="item">
                          <div class="country-item">
                              <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                          </div>
                      </ng-template>
                </p-dropdown>
              </div>
            </div>
          </div> -->
          <div>
            <div>PERIODO</div>
            <div>{{period}}</div>
          </div>
        </div>

        <ng-container *ngIf="dtRendered">
          <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
            <thead>
              <tr>
                  <th>Item</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th>Tipo de Unidad</th>



              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <td *ngIf="!chkDateHour">{{(row.fecha || '')}}</td>
                  <td *ngIf="chkDateHour">{{(row.fecha || '').split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{(row.fecha || '').split(' ')[1]}}</td>
                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td>{{row.tipo_unidad}}</td>

              </tr>
            </tbody>

          </table>
        </ng-container>

        <!-- <div *ngIf="reportTableDropdownData[1].length == 0" class="p-card text-left" style="padding: 1rem;">
          <p>Ningún dato encontrado en su consulta.</p>
        </div> -->

      </div>

      <div class="p-card" style="padding: 0.8rem;">

          <ng-container *ngIf="dtRendered">

              <!-- <button class="btn btn-success" (click)="runReportGerencial(1);">Ejecutar la creacion de graficos</button> -->
              <!-- <div class="table-subtitle p-card" style="padding: 1rem;">
                  <div class="mb-6">
                    PERIODO: {{period}}
                  </div>
              </div> -->

              <!-- subtable-title mb-3 -->




              <div class="p-card">

                <div class="subtable-title mb-2">
                  <div style="width: 50%; min-width: 50%;">
                    <div style="padding: 20px;">
                      {{period}}
                    </div>
                  </div>
                  <div >
                    <div style="padding: 20px;">
                      <button class="btn btn-gl btn-gl-light-blue btn-dark-hover" (click)="seeTableRepGerencial = !seeTableRepGerencial">VER DATOS </button>
                    </div>
                  </div>
                  <div>
                    <div style="padding: 20px;">
                      <button class="btn btn-gl btn-gl-light-blue btn-dark-hover" (click)="runReportGerencial(1);">EJECUTAR GRÁFICO</button>
                    </div>
                  </div>
                </div>

              </div>

              <div *ngIf="seeTableRepGerencial">


                  <div class="table-subtitle p-card" style="padding: 1rem;">
                    <div class="mb-6">
                      DISTRACCIÓN
                    </div>
                  </div>

                    
                  <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

                    <div class="subtable-title mb-3">
                      <div>
                        <div>VEHÍCULO : {{v_table[0][1]}}</div>
                      </div>
                      <div style="width: 60%; min-width: 60%;">
                        <div>PERIODO : {{period}}</div>
                      </div>
                    </div>
            
                    <ng-container *ngIf="dtRendered">
                      <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions2" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                       
                        <thead>
                          <tr>
                              <th>Item</th>
                              <th *ngIf="!chkDateHour">Fecha/Hora</th>
                              <th *ngIf="chkDateHour">Fecha</th>
                              <th *ngIf="chkDateHour">Hora</th>
                              <th>Código</th>
                              <th>Placa</th>
                              <th>Tipo de Unidad</th>
                              <th>Descripción</th>
                              <th>Ubicación</th>	
                              <th>Geocerca</th>
                              <th>Conductor</th>
                              <th>-</th>
                              <th>Activar/Desactivar</th>
                          </tr>
                        </thead>
            
                        <tbody>
                          <ng-container *ngFor="let row of v_table[1];  let i = index;">  
                            <tr *ngIf="row.descripcion_evento == 'Distraccion'">

                              <td>{{row.nro_row + 1}}</td>
                              <td *ngIf="!chkDateHour">{{row.fecha_tracker}}</td>
                              <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[0]}}</td>
                              <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[1]}}</td>
                              <td>{{row.codigo}}</td>
                              <td>{{row.placa}}</td>
                              <td>{{row.tipo_unidad}}</td>
                              <td>{{row.descripcion_evento}}</td>
                              <td><a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a></td>
                              <td><input style="font-size: 12px;" size="30" type="text" [(ngModel)]="row.nombre_zona"></td>
                              <td><input style="font-size: 12px;" size="40" type="text" [(ngModel)]="row.conductor"></td>
                              <td *ngIf="row.mostrar == true"><b>Activo</b></td>
                              <td *ngIf="row.mostrar == false"><b>Eliminado</b></td>
                              <td>
                                <!-- <md-button  class="md-raised md-primary" ng-click="res.repSensorFatigaBtnEliminar(dato[1],$index,dat)" >Activar/Desactivar</md-button> -->
                                <button style="font-size: 12px;" (click)="repSensorFatigaBtnEliminar(row);">Activar/Desactivar</button>
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
            
                      </table>
                    </ng-container>
            
                  </div>
    
              


                  <div class="table-subtitle p-card" style="padding: 1rem;">
                    <div class="mb-6">
                      POSIBLE FATIGA
                    </div>
                  </div>

                  <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

                    <div class="subtable-title mb-3">
                      <div>
                        <div>VEHÍCULO : {{v_table[0][1]}}</div>
                      </div>
                      <div style="width: 60%; min-width: 60%;">
                        <div>PERIODO : {{period}}</div>
                      </div>
                    </div>
            
                    <ng-container *ngIf="dtRendered">
                      <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions2" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                       
                        <thead>
                          <tr>
                              <th>Item</th>
                              <th *ngIf="!chkDateHour">Fecha/Hora</th>
                              <th *ngIf="chkDateHour">Fecha</th>
                              <th *ngIf="chkDateHour">Hora</th>
                              <th>Código</th>
                              <th>Placa</th>
                              <th>Tipo de Unidad</th>
                              <th>Descripción</th>
                              <th>Ubicación</th>	
                              <th>Geocerca</th>
                              <th>Conductor</th>
                              <th>-</th>
                              <th>Activar/Desactivar</th>
                          </tr>
                        </thead>
            
                        <tbody>
                          <ng-container *ngFor="let row of v_table[1];  let i = index;">  
                            <tr *ngIf="row.descripcion_evento == 'Somnolencia'">

                              <td>{{row.nro_row + 1}}</td>
                              <td *ngIf="!chkDateHour">{{row.fecha_tracker}}</td>
                              <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[0]}}</td>
                              <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[1]}}</td>
                              <td>{{row.codigo}}</td>
                              <td>{{row.placa}}</td>
                              <td>{{row.tipo_unidad}}</td>
                              <td>{{row.descripcion_evento == 'Somnolencia' ? 'Posible Fatiga' : '?'}}</td>

                              <td><a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a></td>
                              <td><input style="font-size: 12px;" size="30" type="text" [(ngModel)]="row.nombre_zona"></td>
                              <td><input style="font-size: 12px;" size="40" type="text" [(ngModel)]="row.conductor"></td>
                              <td *ngIf="row.mostrar == true"><b>Activo</b></td>
                              <td *ngIf="row.mostrar == false"><b>Eliminado</b></td>
                              <td>
                                <!-- <md-button  class="md-raised md-primary" ng-click="res.repSensorFatigaBtnEliminar(dato[1],$index,dat)" >Activar/Desactivar</md-button> -->
                                <button style="font-size: 12px;" (click)="repSensorFatigaBtnEliminar(row);">Activar/Desactivar</button>
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
            
                      </table>
                    </ng-container>
            
                  </div>
    

                  <div class="table-subtitle p-card" style="padding: 1rem;">
                    <div class="mb-6">
                      FATIGA EXTREMA
                    </div>
                  </div>


                  <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

                    <div class="subtable-title mb-3">
                      <div>
                        <div>VEHÍCULO : {{v_table[0][1]}}</div>
                      </div>
                      <div style="width: 60%; min-width: 60%;">
                        <div>PERIODO : {{period}}</div>
                      </div>
                    </div>
            
                    <ng-container *ngIf="dtRendered">
                      <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions2" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
                       
                        <thead>
                          <tr>
                              <th>Item</th>
                              <th *ngIf="!chkDateHour">Fecha/Hora</th>
                              <th *ngIf="chkDateHour">Fecha</th>
                              <th *ngIf="chkDateHour">Hora</th>
                              <th>Código</th>
                              <th>Placa</th>
                              <th>Tipo de Unidad</th>
                              <th>Descripción</th>
                              <th>Ubicación</th>	
                              <th>Geocerca</th>
                              <th>Conductor</th>
                              <th>-</th>
                              <th>Activar/Desactivar</th>
                          </tr>
                        </thead>
            
                        <tbody>
                          <ng-container *ngFor="let row of v_table[1];  let i = index;">  
                            <tr *ngIf="row.descripcion_evento == 'Fatiga Extrema'">

                              <td>{{row.nro_row + 1}}</td>
                              <td *ngIf="!chkDateHour">{{row.fecha_tracker}}</td>
                              <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[0]}}</td>
                              <td *ngIf="chkDateHour">{{row.fecha_tracker.split(' ')[1]}}</td>
                              <td>{{row.codigo}}</td>
                              <td>{{row.placa}}</td>
                              <td>{{row.tipo_unidad}}</td>
                              <td>{{row.descripcion_evento}}</td>
                              <td><a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a></td>
                              <td><input style="font-size: 12px;" size="30" type="text" [(ngModel)]="row.nombre_zona"></td>
                              <td><input style="font-size: 12px;" size="40" type="text" [(ngModel)]="row.conductor"></td>
                              <td *ngIf="row.mostrar == true"><b>Activo</b></td>
                              <td *ngIf="row.mostrar == false"><b>Eliminado</b></td>
                              <td>
                                <!-- <md-button  class="md-raised md-primary" ng-click="res.repSensorFatigaBtnEliminar(dato[1],$index,dat)" >Activar/Desactivar</md-button> -->
                                <button style="font-size: 12px;" (click)="repSensorFatigaBtnEliminar(row);">Activar/Desactivar</button>
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
            
                      </table>
                    </ng-container>
            
                  </div>
    

              </div>


















              

              <ng-container>
                <div class="row justify-content-md-center">
                  <div class="col-md-auto">
                    <button class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfReporteGerencial();">EXPORTAR PDF</button>
                  </div>
                </div>
              </ng-container>

              <div  class="p-card" style="padding: 1rem;">

                    <div class="container">
                      <div class="row justify-content-md-center">
                        <div class="col-md-auto">
                          <div class="h4">RESUMEN DE EVENTOS</div>
                        </div>
                      </div>
                    </div>

                    <table class="table table-sm" width="100%">
                      <thead class="table-light">
                        <tr>
                          <td>EVENTO</td>
                          <td>Nº DE EVENTOS</td>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>DISTRACCIÓN</td>
                          <td>{{arrDataTabla.distraccion}}</td>
                        </tr>
                        <tr>
                          <td>POSIBLE FATIGA</td>
                          <td>{{arrDataTabla.posible_fatiga}}</td>
                        </tr>
                        <tr>
                          <td>FATIGA EXTREMA</td>
                          <td>{{arrDataTabla.fatiga_extrema}}</td>
                        </tr>

                      </tbody>

                    </table>

              </div>

              <br>

              <div  class="p-card" style="padding: 1rem;">
                <div class="container" >

                      <div class="row justify-content-md-center">
                        <div class="col-md-auto">
                          <div class="h4">DISTRACCION</div>
                        </div>
                      </div>

                      <div class="h5">Eventos Por Unidad</div>
                      <div [hidden]="!arrDataGrafico[0]" >
                        <div class="demo-container"  >
                          <div id="placeholder_x_unidad_distraccion" class="demo-placeholder"></div>
                        </div>
                      </div>

                      <div class="h5">Eventos Por Fecha</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[1]">
                        <div id="placeholder_x_fecha_distraccion" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Geocerca</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[2]" >
                        <div id="placeholder_x_geocerca_distraccion" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Conductor</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[3]" >
                        <div id="placeholder_x_conductor_distraccion" class="demo-placeholder"></div>
                      </div>

                </div>
              </div>
              <br>
              <div  class="p-card" style="padding: 1rem;">
                <div class="container" >

                      <div class="row justify-content-md-center">
                        <div class="col-md-auto">
                          <div class="h4">POSIBLE FATIGA</div>
                        </div>
                      </div>

                      <div class="h5">Eventos Por Unidad</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[4]">
                        <div id="placeholder_x_unidad_posible_fatiga" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Fecha</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[5]">
                        <div id="placeholder_x_fecha_posible_fatiga" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Geocerca</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[6]">
                        <div id="placeholder_x_geocerca_posible_fatiga" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Conductor</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[7]">
                        <div id="placeholder_x_conductor_posible_fatiga" class="demo-placeholder"></div>
                      </div>

                 </div>
              </div>

              <br>

              <div  class="p-card" style="padding: 1rem;">
                <div class="container" >

                      <div class="row justify-content-md-center">
                        <div class="col-md-auto">
                          <div class="h4">FATIGA EXTREMA</div>
                        </div>
                      </div>

                      <div class="h5">Eventos Por Unidad</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[8]">
                        <div id="placeholder_x_unidad_fatiga_extrema" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Fecha</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[9]">
                        <div id="placeholder_x_fecha_fatiga_extrema" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Geocerca</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[10]">
                        <div id="placeholder_x_geocerca_fatiga_extrema" class="demo-placeholder"></div>
                      </div>

                      <div class="h5">Eventos Por Conductor</div>
                      <div class="demo-container" [hidden]="!arrDataGrafico[11]">
                        <div id="placeholder_x_conductor_fatiga_extrema" class="demo-placeholder"></div>
                      </div>

                 </div>
              </div>



          </ng-container>
      </div>


    </div>


    <!-- 20. REPORTE  DE EXCESOS DE VELOCIDAD (FORMATO EXTENDIDO)-->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R021'">
      <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 1rem;">

        <div class="subtable-title mb-3">
          <!-- <div>
            <div>VEHÍCULO</div>
            <div>{{v_table[0][1]}}</div>
          </div> -->
          <div style="width: 100%; min-width: 100%;">
            <div>PERIODO</div>
            <div>{{period}}</div>
          </div>
        </div>

        <ng-container *ngIf="dtRendered">
          <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
            <thead>
              <tr>
                  <th>Item</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th>Tipo de Unidad</th>

                  <th>Id Conductor</th>
                  <th>Conductor</th>

                  <th>Tramo</th>
									<th>Límite de Velocidad</th>
									<th>Exceso de Velocidad</th>
                  <th>Ubicación</th>

              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let row of v_table[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha_inicio}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_inicio.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha_inicio.split(' ')[1]}}</td>
                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td>{{row.tipo_unidad}}</td>

                  <td>{{row.idConductor}}</td>
                  <td>{{row.conductor}}</td>

									<td>{{row.nombre_zona}}</td>
                  <td>{{row.v0}} Km/h</td>
                  <td>{{row.velocidad}} Km/h</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>

              </tr>
            </tbody>

          </table>
        </ng-container>

      </div>
    </div>


    <!-- 22. REPORTE DE MANTENIMIENTOS FISICOS -->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R023'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>
                    <th>Tipo de Mantenimiento</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>
                    <td>{{row.tipo_mantenimiento}}</td>


                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>
                    <th>Tipo de Mantenimiento</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th>


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>
                    <td>{{row.tipo_mantenimiento}}</td>


                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>



    <!--   -R024 REPORTE DE NO ROSTRO -->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R024'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <!-- <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>
                    <th>Tipo de Mantenimiento</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th> -->


                    <th>Item</th>
                    <th>Convoy</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>vel. GPS</th>
                    <th>GPS speed</th>
                    <th>ai1 </th>
                    <th>Resumen(ai1-Fecha)</th>
                    <th>Ubicación</th>
                    <th>Punto Cercano</th>



                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <!-- <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>
                    <td>{{row.tipo_mantenimiento}}</td>


                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td> -->


                    <td>{{i + 1}}</td>

                    <td>{{row.convoy}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.velGPS}} km/h</td>
                    <td>{{row.GPS_speed}} km/h</td>
                    <td>{{row.ai1x}}</td>
                    <td>{{row.campoResumen}} </td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <td>{{row.PC}}</td>


                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <!-- <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>
                    <th>Tipo de Mantenimiento</th>

                    <th>Id Conductor</th>
                    <th>Conductor</th>
                    <th>Vel.GPS</th>
                    <th>Vel.CAN</th>

                    <th>Tramo</th>
                    <th>Punto Cercano</th>
                    <th>Ubicación</th> -->


                    <th>Item</th>
                    <th>Convoy</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>vel. GPS</th>
                    <th>GPS speed</th>
                    <th>ai1 </th>
                    <th>Resumen(ai1-Fecha)</th>
                    <th>Ubicación</th>
                    <th>Punto Cercano</th>


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                    <!-- <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>
                    <td>{{row.tipo_mantenimiento}}</td>


                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>
                    <td>{{row.vel_gps_speed}} Km/h</td>
                    <td>{{row.vel_can}} Km/h</td>

                    <td>{{row.tramo}}</td>
                    <td>{{row.PC}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td> -->


                    <td>{{i + 1}}</td>

                    <td>{{row.convoy}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>
                    <td>{{row.velGPS}} km/h</td>
                    <td>{{row.GPS_speed}} km/h</td>
                    <td>{{row.ai1x}}</td>
                    <td>{{row.campoResumen}} </td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>
                    <td>{{row.PC}}</td>


                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>


    <!--   -R025 REPORTE DE ODOMETRO TLINEA -->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R025'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
                    <th>Item</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora Salida</th>
                    <th *ngIf="chkDateHour">Fecha Salida</th>
                    <th *ngIf="chkDateHour">Hora Salida</th>
                    <th>Origen</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora Llegada</th>
                    <th *ngIf="chkDateHour">Fecha Llegada</th>
                    <th *ngIf="chkDateHour">Hora Llegada</th>
                    <th>Destino</th>
  
                    <th>Distancia</th>
                    <th>O.Inicial</th>
                    <th>O.Final</th>
  
                    <th>Id Conductor</th>
                    <th>Conductor</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">
                    <td>{{i + 1}}</td>
                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td *ngIf="!chkDateHour">{{row.f_ini}}</td>
                    <td *ngIf="chkDateHour">{{row.f_ini.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.f_ini.split(' ')[1]}}</td>
                    <td>{{row.zona_salida}}</td>
                    <td *ngIf="!chkDateHour">{{row.f_fin}}</td>
                    <td *ngIf="chkDateHour">{{row.f_fin.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.f_fin.split(' ')[1]}}</td>
                    <td>{{row.zona_llegada}}</td>
  
                    <td>{{row.distancia}}</td>
                    <td>{{row.odometro_inicial}}</td>
                    <td>{{row.odometro_final}}</td>
  
                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
        
                  <th>Item</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora Salida</th>
                  <th *ngIf="chkDateHour">Fecha Salida</th>
                  <th *ngIf="chkDateHour">Hora Salida</th>
                  <th>Origen</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora Llegada</th>
                  <th *ngIf="chkDateHour">Fecha Llegada</th>
                  <th *ngIf="chkDateHour">Hora Llegada</th>
                  <th>Destino</th>

                  <th>Distancia</th>
                  <th>O.Inicial</th>
                  <th>O.Final</th>

                  <th>Id Conductor</th>
                  <th>Conductor</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td *ngIf="!chkDateHour">{{row.f_ini}}</td>
                  <td *ngIf="chkDateHour">{{row.f_ini.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.f_ini.split(' ')[1]}}</td>
                  <td>{{row.zona_salida}}</td>
                  <td *ngIf="!chkDateHour">{{row.f_fin}}</td>
                  <td *ngIf="chkDateHour">{{row.f_fin.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.f_fin.split(' ')[1]}}</td>
                  <td>{{row.zona_llegada}}</td>

                  <td>{{row.distancia}}</td>
                  <td>{{row.odometro_inicial}}</td>
                  <td>{{row.odometro_final}}</td>

                  <td>{{row.idConductor}}</td>
                  <td>{{row.conductor}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>


    <!--   -R026 REPORTE DE ENCENDIDO DE MOTOR -->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R026'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
      
    
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Id Conductor</th>
                    <th>Conductor</th>


                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
        
                  <th>Item</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th>Id Conductor</th>
                  <th>Conductor</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td>{{row.idConductor}}</td>
                  <td>{{row.conductor}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

        
    <!--   -R027 REPORTE LLAVE I-BUTTON -->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R027'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
      
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Tipo de Unidad</th>

                    <th>I-Button</th>
                    <th>Id Conductor</th>
                    <th>Conductor</th>

                    <th>Tramo</th>
                    <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.tipo_unidad}}</td>

                    <td>{{row.idButton_str}}</td>
                    <td>{{row.idConductor}}</td>
                    <td>{{row.notificacion}}</td>

                    <td>{{row.tramo}}</td>
                    <td>
                      <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                    </td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
        
                  <th>Item</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th>Tipo de Unidad</th>

                  <th>I-Button</th>
                  <th>Id Conductor</th>
                  <th>Conductor</th>

                  <th>Tramo</th>
                  <th>Ubicación</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td>{{row.tipo_unidad}}</td>

                  <td>{{row.idButton_str}}</td>
                  <td>{{row.idConductor}}</td>
                  <td>{{row.notificacion}}</td>

                  <td>{{row.tramo}}</td>
                  <td>
                    <a href="http://maps.google.com/maps?q={{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}&amp;t=m" target="_blank">{{row.latitud.toFixed(6)}},{{row.longitud.toFixed(6)}}</a>
                  </td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>

        
    <!--   -R028 REPORTE DE MANIPULACION DE DISPOSITIVO -->
    <div class="container grand-container multitable-container" *ngIf="report_data.num_rep == 'R028'">

      <ng-container *ngIf="chkTableDropdown">

        <div class="p-card" style="padding: 1rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>
                <div class="gl-row-underline vehicle-dropdown border-0">
                  <p-dropdown
                        [filter]="true"
                        [options]="reportTableVehicleDropdownOptions"
                        optionLabel="name"
                        [(ngModel)]="reportTableVehicleSelected"
                        [appendTo]="'body'"
                        (onChange)="renderDataTable()">
                        <ng-template let-vehicle pTemplate="item">
                            <div class="country-item">
                                <span>{{vehicle.name}} {{vehicle.dataSize}}</span>
                            </div>
                        </ng-template>
                  </p-dropdown>
                </div>
              </div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
      
    
                    <th>Item</th>
                    <th *ngIf="!chkDateHour">Fecha/Hora</th>
                    <th *ngIf="chkDateHour">Fecha</th>
                    <th *ngIf="chkDateHour">Hora</th>
                    <th>Código</th>
                    <th>Placa</th>
                    <th>Id Conductor</th>
                    <th>Conductor</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of reportTableDropdownData[1];  let i = index;">

                    <td>{{i + 1}}</td>
                    <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                    <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                    <td>{{row.codigo}}</td>
                    <td>{{row.placa}}</td>
                    <td>{{row.idConductor}}</td>
                    <td>{{row.conductor}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

      <ng-container *ngIf="!chkTableDropdown">

        <div *ngFor="let v_table of data;  let i = index;" class="p-card" style="padding: 0.8rem;">

          <div class="subtable-title mb-3">
            <div>
              <div>VEHÍCULO</div>
              <div>{{v_table[0][1]}}</div>
            </div>
            <div>
              <div>PERIODO</div>
              <div>{{period}}</div>
            </div>
          </div>

          <ng-container *ngIf="dtRendered">
            <table [ngClass]="table_hide" dt-instance="dtInstance" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-border row-border hover">
              <thead>
                <tr>
        
                  <th>Item</th>
                  <th *ngIf="!chkDateHour">Fecha/Hora</th>
                  <th *ngIf="chkDateHour">Fecha</th>
                  <th *ngIf="chkDateHour">Hora</th>
                  <th>Código</th>
                  <th>Placa</th>
                  <th>Id Conductor</th>
                  <th>Conductor</th>

                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let row of v_table[1];  let i = index;">

                  <td>{{i + 1}}</td>
                  <td *ngIf="!chkDateHour">{{row.fecha}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[0]}}</td>
                  <td *ngIf="chkDateHour">{{row.fecha.split(' ')[1]}}</td>

                  <td>{{row.codigo}}</td>
                  <td>{{row.placa}}</td>
                  <td>{{row.idConductor}}</td>
                  <td>{{row.conductor}}</td>

                </tr>
              </tbody>

            </table>
          </ng-container>

        </div>

      </ng-container>

    </div>




    <div *ngIf="dtRendered" class="export-container">
      <button *ngIf="report_data.num_rep == 'R001'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelParadasMovimientos');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R002'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelExcesosVelocidad');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R003'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelEntradaSalida');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R004'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelCombustible');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R005'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelExcesosEnZona');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R006'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelGeneral');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R007'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelEventos');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R008'" class="btn btn-gl btn-success btn-dark-hover" (click)="exportExcelPosicion(1);">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R011'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelFrenadaAceleracionBrusca');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R012' || report_data.num_rep == 'R022'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelDistraccionPosibleFatiga');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R013'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelCalificacionManejo');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R014'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelFatigaExtrema');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R015'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelAnticolisionFrontal');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R016'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelColisionConPeatones');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R017'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelDesvioCarrilIzquierda');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R018'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelDesvioCarrilDerecha');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R019'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelBloqueoVisionMobileye');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R021'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelExcesosVelocidadFormatoExtendido');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R023'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelMantenimientoFisico');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R024'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelNoRostro');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R025'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelOdometroBaseTLinea');">EXPORTAR EXCEL</button>
      <button *ngIf="report_data.num_rep == 'R026'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelEncendidoMotor');">EXPORTAR EXCEL</button>

      <button *ngIf="report_data.num_rep == 'R027'" class="btn btn-gl btn-success btn-dark-hover" (click)="showSelectExcel('exportExcelLlaveIbutton');">EXPORTAR EXCEL</button>
      <!-- <button *ngIf="report_data.num_rep == 'R028'" class="btn btn-gl btn-success btn-dark-hover" (click)="">EXPORTAR EXCEL</button> -->

      <!-- <div style="display: flex; flex-direction: row; justify-content: center; gap: 4rem; margin: 0; padding: 0;">
        <button class="btn btn-success" (click)="exportExcelParadasMovimientos(1)">EXPORTAR EXCEL SEPARADO</button>
        <button class="btn btn-success" (click)="exportExcelParadasMovimientos(2)">EXPORTAR EXCEL JUNTO</button>
      </div> -->

        <!-- <md-button class="md-raised md-primary" ng-click="res.exportPdfParadasMovimientos()">EXPORTAR PDF</md-button>  -->

        <!-- <md-button ng-if="res.mostrarPdf()" class="md-raised md-primary" ng-click="res.exportPdfPosicion()">EXPORTAR PDF</md-button> -->


        <!-- <button *ngIf="report_data.num_rep == 0" class="btn btn-success" (click)="exportPdfParadasMovimientos();">EXPORTAR PDF</button>

        <button *ngIf="report_data.num_rep == 1" class="btn btn-success" (click)="exportPdfExcesosVelocidad();">EXPORTAR PDF</button> -->
        <!-- <button *ngIf="report_data.num_rep == 2" class="btn btn-success" (click)="exportPdfEntradaSalida();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 3" class="btn btn-success" (click)="showSelectExcel('exportPdfCombustible');">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 4" class="btn btn-success" (click)="showSelectExcel('exportPdfExcesosEnZona');">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 5" class="btn btn-success" (click)="showSelectExcel('exportPdfGeneral');">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 6" class="btn btn-success" (click)="showSelectExcel('exportPdfEventos');">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 7" class="btn btn-success" (click)="exportExcelPosicion(1);">EXPORTAR PDF</button> -->

        <button *ngIf="report_data.num_rep == 'R011'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfFrenadaAceleracionBrusca();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R012'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfDistraccionPosibleFatiga();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R013'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfCalificacionManejo();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R014'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfFatigaExtrema();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R015'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfAnticolisionFrontal();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R016'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfColisionConPeatones();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R017'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfDesvioCarrilIzquierda();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R018'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfDesvioCarrilDerecha();">EXPORTAR PDF</button>
        <button *ngIf="report_data.num_rep == 'R019'" class="btn btn-gl btn-gl-red btn-dark-hover" (click)="exportPdfBloqueoVisionMobileye();">EXPORTAR PDF</button>
        <!-- <button *ngIf="report_data.num_rep == 20" class="btn btn-success" (click)="exportPdfExcesosVelocidadFormatoExtendido();">EXPORTAR PDF</button> -->

    </div>

  </ng-container>
</div>
