<nav class="navbar navbar-expand-sm navbar-light bg-light">
  <div class="container-fluid no-x-padding" style="align-items: stretch;">
    <div>
      <a href="#" class="navbar-brand" style="margin: 0px;">
        <img [src]="logo" width="100px"/>
      </a>
    </div>
    
    <!-- EXPANDIDO -->
    <div class="collapse navbar-collapse justify-content-start" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'VEHICLES'? 'active': ''" (click)="panelService.clickShowPanel('VEHICLES');">
            <i class="fa fa-truck" aria-hidden="true"></i>
            <span>Vehículos</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'EVENT-USER'? 'active': ''" (click)="panelService.clickShowPanel('EVENT-USER');">
            <i class="fa fa-bolt" aria-hidden="true"></i>
            <span>Eventos</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente.includes('ALERTS')? 'active': ''" (click)="panelService.clickShowPanel('ALERTS')">
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            <span>Alertas</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'GEOFENCES'? 'active': ''" (click)="panelService.clickShowPanel('GEOFENCES');">
            <i class="fa fa-map" aria-hidden="true"></i>
            <span>Geocercas</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'GEOPOINTS'? 'active': ''" (click)="panelService.clickShowPanel('GEOPOINTS');">
            <i class="fa fa-thumb-tack" aria-hidden="true"></i>
            <span>Geopuntos</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'HISTORIAL'? 'active': ''" (click)="panelService.clickShowPanel('HISTORIAL')">
            <i class="fa fa-history" aria-hidden="true"></i>
            <span>Historial</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info">
            <i class="fa fa-users" aria-hidden="true"></i>
            <span>Subcuentas</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" (click)="windowAccess.open('/reports');">
            <i class="fa fa-line-chart" aria-hidden="true"></i>
            <span>Reportes</span>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info">
            <i class="fa fa-book" aria-hidden="true"></i>
            <span>Auditoría</span>
          </button>
        </li>
        <li ngbDropdown class="nav-item">
          <button ngbDropdownToggle class="btn btn-info">
            <i class="fa fa-cog" aria-hidden="true"></i>
            <span id="span_config">Configuración</span>  
          </button>
          <div ngbDropdownMenu aria-labelledby="userDropdown" class="dropdown-menu dropdown-menu-end">
            <button ngbDropdownItem routerLink="/profile">Configuración de Perfil</button>
          </div>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" aria-current="page" (click)="showHideSideBar()"  title="Menú" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="fa fa-list-ul" ></i>
          </a>
        </li> -->

        <!-- <li class="nav-item">
          <a class="nav-link" aria-current="page" title="Configurar" data-bs-toggle="tooltip" data-bs-placement="bottom" >
            <i class="fa fa-cog"></i>
          </a>
        </li> -->

        <!-- <li class="nav-item">
          <a routeLink href="reports" target="_blank" class="nav-link" aria-current="page" title="Reportes" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="fa fa-file-code-o" ></i>
          </a>
        </li> -->

        <!-- <li class="nav-item">
          <a class="nav-link" aria-current="page" title="Auditoría" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="fa fa-check-square"></i>
          </a>
        </li> -->


      </ul>
    </div>

    <!-- COLAPSADO -->
    <div class="collapse navbar-collapse justify-content-start" id="navbarSupportedContent_collapsed" style="padding: 0px 0.25rem;">
      <ul class="navbar-nav">
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'VEHICLES'? 'active': ''" (click)="panelService.clickShowPanel('VEHICLES');" title="Vehiculos" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-truck" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'EVENT-USER'? 'active': ''" (click)="panelService.clickShowPanel('EVENT-USER');" title="Eventos" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-bolt" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente.includes('ALERTS')? 'active': ''" (click)="panelService.clickShowPanel('ALERTS')" title="Alertas" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'GEOFENCES'? 'active': ''" (click)="panelService.clickShowPanel('GEOFENCES');" title="Geocercas" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-map" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'GEOPOINTS'? 'active': ''" (click)="panelService.clickShowPanel('GEOPOINTS');" title="Geopuntos" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-thumb-tack" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" [ngClass]="panelService.nombreComponente == 'HISTORIAL'? 'active': ''" (click)="panelService.clickShowPanel('HISTORIAL')" title="Historial" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-history" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" title="Subcuentas" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-users" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" (click)="windowAccess.open('/reports');" title="Reportes" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-line-chart" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" title="Auditoría" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();">
            <i class="fa fa-book" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item" ngbDropdown>
          <button ngbDropdownToggle class="btn btn-info config">
          <!-- <button ngbDropdownToggle class="btn btn-info config" title="Configuración" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="this.blur();"> -->
            <i class="fa fa-cog" aria-hidden="true"></i>
          </button>
          <div ngbDropdownMenu aria-labelledby="userDropdown" class="dropdown-menu dropdown-menu-end">
            <button ngbDropdownItem routerLink="/profile">Configuración de Perfil</button>
          </div>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" aria-current="page" (click)="showHideSideBar()"  title="Menú" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="fa fa-list-ul" ></i>
          </a>
        </li> -->

        <!-- <li class="nav-item">
          <a class="nav-link" aria-current="page" title="Configurar" data-bs-toggle="tooltip" data-bs-placement="bottom" >
            <i class="fa fa-cog"></i>
          </a>
        </li> -->

        <!-- <li class="nav-item">
          <a routeLink href="reports" target="_blank" class="nav-link" aria-current="page" title="Reportes" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="fa fa-file-code-o" ></i>
          </a>
        </li> -->

        <!-- <li class="nav-item">
          <a class="nav-link" aria-current="page" title="Auditoría" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="fa fa-check-square"></i>
          </a>
        </li> -->


      </ul>
    </div>


    <div class="d-flex bd-highlight">
      <div class="me-auto p-2 bd-highlight" style="width: 1rem; white-space: nowrap; margin-left: 0.5rem;">
        <a href="#" class="link-secondary" title="Eventos" data-bs-toggle="tooltip" data-bs-placement="bottom">
          <i class="fa badge1" data-badge=0 id="notification_count"></i>
          <i class="fa fa-bell badge1" data-badge=0 id="notification_count"></i>
          <span class="badge rounded-pill bg-danger leftTop" style="position: relative; left: -2rem; top: 0.4rem;">
            {{eventSocketService.count}}</span>
        </a>
      </div>
      
      <div class="p-2 bd-highlight col d-flex" id="span_notif">
        <div class="d-inline-block align-self-center">
          <span class="p-2 bd-highlight">
            Notificaciones</span>
        </div>
      </div>

      <div class="p-2 bd-highlight col d-flex" style="height: 2.4rem;">
        <div class="d-inline-block align-self-center">
          <span class="p-2 bd-highlight" id="span_user">
            user123456789abcdef@hotmail.com</span>
        </div>
      </div>
      
      <!-- <div class="p-2 bd-highlight col">
        <div ngbDropdown class="d-inline-block">
          <button class="btn" id="userDropdown" ngbDropdownToggle>
            <i class="fa fas fa-user"></i>
            <span class="p-2 bd-highlight">
              user
            </span>
          </button>
          <div ngbDropdownMenu aria-labelledby="userDropdown" class="dropdown-menu dropdown-menu-end">
            <button ngbDropdownItem routerLink="/profile">Configuración de Perfil</button>
            <button ngbDropdownItem>Opción 2</button>
            <button ngbDropdownItem>Opción 3</button>
          </div>
        </div>
      </div> -->
      <!-- <div class="p-2 bd-highlight">
        <a routerLink="/profile" class="link-secondary">
          <i class="fa fas fa-user"></i>
          <span class="p-2 bd-highlight">
            user
          </span></a>
      </div> -->
      <div class="p-2 bd-highlight" style="background-color: var(--gl-dark-gray); padding: 0.65rem 0.65rem 0.65rem 1rem !important">
          <a (click)="logOutModalIsOpen = true;" class="link-secondary" title="Cerrar sesión" data-bs-toggle="tooltip" data-bs-placement="bottom" style="cursor: pointer;">
              <i class="fa fas fa-sign-out" style="color: #fff;"></i>
          </a>
      </div>

    </div>
  </div>
</nav>


<div *ngIf="logOutModalIsOpen" class="logout-modal" role="alert">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h4>¡Alerta!</h4>
    </div>
    <div class="modal-body">
      <p>¿Desea salir?</p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="logOut();">Sí</button>
      <button type="button" class="btn btn-danger" (click)="logOutModalIsOpen = false;">No</button>
    </div>
  </div>
</div>
</div>